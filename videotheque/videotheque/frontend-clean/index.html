<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Videotheque - Frontend Clean</title>
  </head>
  <body>
    <h1>Videotheque (clean frontend)</h1>
    <div id="app">Loadingâ€¦</div>
    <script>
      async function load() {
        try {
          const res = await fetch((window.API_BASE || '') + '/api/videos');
          const videos = await res.json();
          const el = document.getElementById('app');
          if (!videos || videos.length === 0) { el.innerText = 'No videos.'; return; }
          const ul = document.createElement('ul');
          for (const v of videos) {
            const li = document.createElement('li');
            const a = document.createElement('a');
            a.href = v.previewUrl || v.fullUrl || '#';
            a.innerText = v.title || v.id;
            a.target = '_blank';
            li.appendChild(a);
            ul.appendChild(li);
          }
          el.innerHTML = '';
          el.appendChild(ul);
        } catch (e) { document.getElementById('app').innerText = 'Failed to load videos'; }
      }
      load();
    </script>
  </body>
</html>
